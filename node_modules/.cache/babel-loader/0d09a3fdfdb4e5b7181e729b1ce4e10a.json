{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\emreesendir\\\\Documents\\\\projects\\\\WMS development\\\\wms-frontend\\\\src\\\\modules\\\\manage\\\\content\\\\OnHold.js\",\n    _s = $RefreshSig$();\n\nimport styled from 'styled-components';\nimport { useState, useEffect } from 'react';\nimport Loading from '../../../global/Loading';\nimport Table from './components/Table';\nimport { get, post } from '../../../global/Services'; //#region style\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Outerdiv = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    height: 95%;\n`;\n_c = Outerdiv;\nconst Div = styled.div`\n    width: 90%;\n    height: 95%;\n    overflow: auto;\n    margin-top: 20px;\n    display: flex;\n    flex-direction: column;\n    justify-content: top;\n    border-style: solid;\n\n    @media screen and (max-width: 700px){\n        font-size: 70%;\n    }\n`;\n_c2 = Div;\nconst Select = styled.select`\n    width: 90%;\n    height: 2em;\n`;\n_c3 = Select;\nconst BottomDiv = styled.div`\n    width: 100%;\n    height: 4%;\n    display: flex;\n    margin-top: auto;\n    margin-bottom: 0.5em;\n`;\n_c4 = BottomDiv;\nconst Button = styled.button`\n    width: 6em;\n    height: 3em;\n    margin: auto 0.5em 0 auto;\n\n    @media screen and (max-width: 700px){\n        font-size: 70%;\n    }\n`; //#endregion\n//#region column setup\n\n_c5 = Button;\nlet changes = {};\nconst COLUMNS = [{\n  Header: 'Remote Id',\n  Footer: 'Remote Id',\n  accessor: 'remoteId'\n}, {\n  Header: 'Order',\n  Footer: 'Order',\n  accessor: data => {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: data.productLines.map(line => /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          textAlign: 'left',\n          marginLeft: '1em'\n        },\n        children: [\"\\u2022 \", line.quantity, \" piece(s) \", line.name, \". Location: \", line.location]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 25\n      }, this))\n    }, void 0, false);\n  }\n}, {\n  Header: 'Status',\n  Footer: 'Status',\n  accessor: 'status'\n}, {\n  Header: 'Commands',\n  Footer: 'Commands',\n  accessor: data => {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: data.commands.split('.').map(command => /*#__PURE__*/_jsxDEV(\"p\", {\n        children: command\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 25\n      }, this))\n    }, void 0, false);\n  }\n}, {\n  Header: 'Reason',\n  Footer: 'Reason',\n  accessor: 'reason'\n}, {\n  Header: 'Continue',\n  Footer: 'Continue',\n  accessor: data => {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Select, {\n        id: data.id,\n        name: \"cars\",\n        onChange: e => changes[e.target.id] = e.target.value,\n        defaultValue: \"\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"small\",\n          children: \"Continue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 21\n      }, this)\n    }, void 0, false);\n  }\n}]; //#endregion\n\nconst OnHold = () => {\n  _s();\n\n  // Table\n  const [DATA, setDATA] = useState([]);\n\n  const refreshTable = () => {\n    get('onhold/').then(data => {\n      changes = {};\n      setDATA([]);\n      setDATA(data);\n    });\n  };\n\n  useEffect(refreshTable, []); // Post sizes\n\n  const [loading, setLoading] = useState([false, '', '']);\n\n  const submit = () => {\n    setLoading([true, 'Sending data to server...', 'spinner']);\n    const filtered = {};\n\n    for (const id in changes) {\n      if (changes[id] !== '') {\n        filtered[id] = changes[id];\n      }\n    }\n\n    post('onhold/', filtered).then(err => {\n      if (err) {\n        if (err.length > 0) {\n          setLoading([true, `Error occured for some orders: ${err => JSON.stringify(err)}`, 'error']);\n          setTimeout(() => {\n            setLoading([false, '', '']);\n            refreshTable();\n          }, 2000);\n        } else {\n          setLoading([true, 'Successfull.', 'done']);\n          setTimeout(() => {\n            setLoading([false, '', '']);\n            refreshTable();\n          }, 1000);\n        }\n      } else {\n        setLoading([true, '! SERVER ERROR !', 'error']);\n        setTimeout(() => {\n          setLoading([false, '', '']);\n          refreshTable();\n        }, 1000);\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Outerdiv, {\n    children: [loading[0] && /*#__PURE__*/_jsxDEV(Loading, {\n      message: loading[1],\n      symbol: loading[2]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 26\n    }, this), /*#__PURE__*/_jsxDEV(Div, {\n      children: [/*#__PURE__*/_jsxDEV(Table, {\n        data: DATA,\n        columns: COLUMNS\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(BottomDiv, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: submit,\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 26\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 172,\n    columnNumber: 7\n  }, this);\n};\n\n_s(OnHold, \"sju8iSoF9vZ+Tjo5nmgVNyRlEII=\");\n\n_c6 = OnHold;\nexport default OnHold;\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"Outerdiv\");\n$RefreshReg$(_c2, \"Div\");\n$RefreshReg$(_c3, \"Select\");\n$RefreshReg$(_c4, \"BottomDiv\");\n$RefreshReg$(_c5, \"Button\");\n$RefreshReg$(_c6, \"OnHold\");","map":{"version":3,"sources":["C:/Users/emreesendir/Documents/projects/WMS development/wms-frontend/src/modules/manage/content/OnHold.js"],"names":["styled","useState","useEffect","Loading","Table","get","post","Outerdiv","div","Div","Select","select","BottomDiv","Button","button","changes","COLUMNS","Header","Footer","accessor","data","productLines","map","line","textAlign","marginLeft","quantity","name","location","commands","split","command","id","e","target","value","OnHold","DATA","setDATA","refreshTable","then","loading","setLoading","submit","filtered","err","length","JSON","stringify","setTimeout"],"mappings":"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","sourcesContent":["import styled from 'styled-components'\r\nimport { useState, useEffect } from 'react'\r\nimport Loading from '../../../global/Loading'\r\nimport Table from './components/Table'\r\nimport { get, post } from '../../../global/Services'\r\n\r\n//#region style\r\nconst Outerdiv = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    height: 95%;\r\n`;\r\n\r\nconst Div = styled.div`\r\n    width: 90%;\r\n    height: 95%;\r\n    overflow: auto;\r\n    margin-top: 20px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: top;\r\n    border-style: solid;\r\n\r\n    @media screen and (max-width: 700px){\r\n        font-size: 70%;\r\n    }\r\n`;\r\n\r\nconst Select = styled.select`\r\n    width: 90%;\r\n    height: 2em;\r\n`;\r\n\r\nconst BottomDiv = styled.div`\r\n    width: 100%;\r\n    height: 4%;\r\n    display: flex;\r\n    margin-top: auto;\r\n    margin-bottom: 0.5em;\r\n`;\r\n\r\nconst Button = styled.button`\r\n    width: 6em;\r\n    height: 3em;\r\n    margin: auto 0.5em 0 auto;\r\n\r\n    @media screen and (max-width: 700px){\r\n        font-size: 70%;\r\n    }\r\n`;\r\n\r\n//#endregion\r\n\r\n//#region column setup\r\n\r\nlet changes = {};\r\n\r\nconst COLUMNS = [\r\n    {\r\n        Header: 'Remote Id',\r\n        Footer: 'Remote Id',\r\n        accessor: 'remoteId'\r\n    },\r\n    {\r\n        Header: 'Order',\r\n        Footer: 'Order',\r\n        accessor: data => {\r\n            return (\r\n                <>\r\n                    {data.productLines.map(line => \r\n                        <p style={{textAlign: 'left', marginLeft: '1em'}}>• {line.quantity} piece(s) {line.name}. Location: {line.location}</p>\r\n                    )}\r\n                </>\r\n            )\r\n        }\r\n    },\r\n    {\r\n        Header: 'Status',\r\n        Footer: 'Status',\r\n        accessor: 'status'\r\n    },\r\n    {\r\n        Header: 'Commands',\r\n        Footer: 'Commands',\r\n        accessor: data => {\r\n            return (\r\n                <>\r\n                    {data.commands.split('.').map(command => \r\n                        <p>{command}</p>)}\r\n                </>\r\n            )\r\n        }\r\n    },\r\n    {\r\n        Header: 'Reason',\r\n        Footer: 'Reason',\r\n        accessor: 'reason'\r\n    },\r\n    {\r\n        Header: 'Continue',\r\n        Footer: 'Continue',\r\n        accessor: data => {\r\n            return (\r\n                <>\r\n                    <Select id={data.id} name=\"cars\" onChange={(e) => changes[e.target.id] = e.target.value} defaultValue=''>\r\n                        <option value=\"\"></option>\r\n                        <option value=\"small\">Continue</option>\r\n                    </Select>\r\n                </>\r\n            )\r\n        }\r\n    }\r\n]\r\n\r\n//#endregion\r\n\r\nconst OnHold = () => {\r\n  // Table\r\n  const [DATA, setDATA] = useState([])\r\n\r\n  const refreshTable = () => {\r\n      get('onhold/').then(data => {\r\n          changes = {};\r\n          setDATA([]);\r\n          setDATA(data)\r\n      })\r\n  }\r\n\r\n  useEffect(refreshTable, [])\r\n\r\n  // Post sizes\r\n  const [loading, setLoading] = useState([false, '', ''])\r\n\r\n  const submit = () => {\r\n      setLoading([true, 'Sending data to server...', 'spinner']);\r\n\r\n      const filtered = {};\r\n      for (const id in changes) {\r\n          if(changes[id] !== ''){\r\n              filtered[id] = changes[id]\r\n          }\r\n      }\r\n\r\n      post('onhold/', filtered).then(err => {\r\n          if(err) {\r\n              if(err.length > 0) {\r\n                  setLoading([true, `Error occured for some orders: ${err => JSON.stringify(err)}`, 'error']);\r\n                  setTimeout(() => {\r\n                      setLoading([false, '', '']);\r\n                      refreshTable();\r\n                  }, 2000)\r\n              }else {\r\n                  setLoading([true, 'Successfull.', 'done']);\r\n                  setTimeout(() => {\r\n                      setLoading([false, '', '']);\r\n                      refreshTable(); \r\n                  }, 1000)\r\n              }\r\n          }else{\r\n              setLoading([true, '! SERVER ERROR !', 'error']);\r\n              setTimeout(() => {\r\n                  setLoading([false, '', '']);\r\n                  refreshTable();\r\n              }, 1000)\r\n          }\r\n      })\r\n  }\r\n\r\n  return (\r\n      <Outerdiv>\r\n          {loading[0] && <Loading message={loading[1]} symbol={loading[2]}/>}\r\n          <Div>\r\n              <Table data={DATA} columns={COLUMNS}/>\r\n              <BottomDiv><Button onClick={submit}>Submit</Button></BottomDiv>\r\n          </Div>\r\n      </Outerdiv>\r\n  )\r\n}\r\n\r\nexport default OnHold"]},"metadata":{},"sourceType":"module"}