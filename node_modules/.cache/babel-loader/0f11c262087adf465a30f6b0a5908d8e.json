{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/emreesendir/Documents/projects/wms-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/emreesendir/Documents/projects/wms-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';var REACT_APP_API_BASE_URL=process.env.REACT_APP_API_BASE_URL;export function checkAccessRights(){return _checkAccessRights.apply(this,arguments);}function _checkAccessRights(){_checkAccessRights=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var token,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;token=localStorage.getItem('token');_context.next=4;return axios.get(\"\".concat(REACT_APP_API_BASE_URL,\"authentication/accessrights/\"),{headers:{'Authorization':\"Token \".concat(token)}});case 4:response=_context.sent;if(!(response.status===200)){_context.next=10;break;};return _context.abrupt(\"return\",response.data);case 10:return _context.abrupt(\"return\",false);case 11:_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](0);return _context.abrupt(\"return\",false);case 16:case\"end\":return _context.stop();}}},_callee,null,[[0,13]]);}));return _checkAccessRights.apply(this,arguments);}export function login(_x,_x2,_x3){return _login.apply(this,arguments);}function _login(){_login=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e,username,password){var respone;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.post(\"\".concat(REACT_APP_API_BASE_URL,\"authentication/token/\"),{username:username,password:password});case 2:respone=_context2.sent;if('token'in respone.data){_context2.next=8;break;}console.log(respone.data);return _context2.abrupt(\"return\",false);case 8:localStorage.setItem('token',respone.data.token);localStorage.setItem('username',username);return _context2.abrupt(\"return\",true);case 11:case\"end\":return _context2.stop();}}},_callee2);}));return _login.apply(this,arguments);}export function logout(){}export function wait(ms){return new Promise(function(resolve){return setTimeout(resolve,ms);});}","map":{"version":3,"sources":["C:/Users/emreesendir/Documents/projects/wms-frontend/src/global/Services.js"],"names":["axios","REACT_APP_API_BASE_URL","process","env","checkAccessRights","token","localStorage","getItem","get","headers","response","status","data","login","e","username","password","post","respone","console","log","setItem","logout","wait","ms","Promise","resolve","setTimeout"],"mappings":"mVAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAOC,CAAAA,sBAAP,CAAiCC,OAAO,CAACC,GAAzC,CAAOF,sBAAP,CAEA,eAAsBG,CAAAA,iBAAtB,oD,yGAAO,sKAEOC,KAFP,CAEeC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAFf,uBAGsBP,CAAAA,KAAK,CAACQ,GAAN,WAAaP,sBAAb,iCAAmE,CAACQ,OAAO,CAAE,CAAC,gCAA0BJ,KAA1B,CAAD,CAAV,CAAnE,CAHtB,QAGKK,QAHL,oBAIIA,QAAQ,CAACC,MAAT,GAAoB,GAJxB,2BAKP,CALO,gCAKaD,QAAQ,CAACE,IALtB,0CAOY,KAPZ,2HAWQ,KAXR,uE,oDAeP,eAAsBC,CAAAA,KAAtB,kD,iFAAO,kBAAqBC,CAArB,CAAwBC,QAAxB,CAAkCC,QAAlC,yJACiBhB,CAAAA,KAAK,CAACiB,IAAN,WAAchB,sBAAd,0BAA6D,CAAEc,QAAQ,CAAEA,QAAZ,CAAsBC,QAAQ,CAAEA,QAAhC,CAA7D,CADjB,QACCE,OADD,mBAEE,SAAWA,CAAAA,OAAO,CAACN,IAFrB,0BAGCO,OAAO,CAACC,GAAR,CAAYF,OAAO,CAACN,IAApB,EAHD,iCAIQ,KAJR,SAMCN,YAAY,CAACe,OAAb,CAAqB,OAArB,CAA8BH,OAAO,CAACN,IAAR,CAAaP,KAA3C,EACAC,YAAY,CAACe,OAAb,CAAqB,UAArB,CAAiCN,QAAjC,EAPD,iCAQQ,IARR,2D,wCAYP,MAAO,SAASO,CAAAA,MAAT,EAAkB,CAExB,CAED,MAAO,SAASC,CAAAA,IAAT,CAAcC,EAAd,CAAiB,CACpB,MAAO,IAAIC,CAAAA,OAAJ,CAAY,SAAAC,OAAO,QAAIC,CAAAA,UAAU,CAACD,OAAD,CAAUF,EAAV,CAAd,EAAnB,CAAP,CACH","sourcesContent":["import axios from 'axios'\r\n\r\nconst {REACT_APP_API_BASE_URL} = process.env;\r\n\r\nexport async function checkAccessRights() {\r\n    try{\r\n        const token = localStorage.getItem('token');\r\n        let response = await axios.get(`${REACT_APP_API_BASE_URL}authentication/accessrights/`, {headers: {'Authorization': `Token ${token}`}})\r\n        if(response.status === 200) {\r\n;            return response.data\r\n        }else{\r\n            return false\r\n        }\r\n    }\r\n    catch{\r\n        return false\r\n    }\r\n}\r\n\r\nexport async function login(e, username, password) {\r\n    let respone = await axios.post(`${REACT_APP_API_BASE_URL}authentication/token/`, { username: username, password: password })\r\n    if(!('token' in respone.data)){\r\n        console.log(respone.data);\r\n        return false;\r\n    }else{\r\n        localStorage.setItem('token', respone.data.token);\r\n        localStorage.setItem('username', username);\r\n        return true;\r\n    }\r\n}\r\n\r\nexport function logout() {\r\n\r\n}\r\n\r\nexport function wait(ms){\r\n    return new Promise(resolve => setTimeout(resolve, ms))\r\n}"]},"metadata":{},"sourceType":"module"}