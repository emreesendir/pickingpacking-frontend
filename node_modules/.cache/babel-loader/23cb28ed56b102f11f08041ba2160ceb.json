{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/emreesendir/Documents/projects/WMS development/wms-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/emreesendir/Documents/projects/WMS development/wms-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';var baseUrl=\"\".concat(window.location.origin.toString(),\"/api/\");export function checkAccessRights(){return _checkAccessRights.apply(this,arguments);}function _checkAccessRights(){_checkAccessRights=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var token,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;token=localStorage.getItem('token');_context.next=4;return axios.get(\"\".concat(baseUrl,\"authentication/accessrights/\"),{headers:{'Authorization':\"Token \".concat(token)}});case 4:response=_context.sent;if(!(response.status===200)){_context.next=9;break;}return _context.abrupt(\"return\",response.data);case 9:return _context.abrupt(\"return\",false);case 10:_context.next=16;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);console.log(_context.t0);return _context.abrupt(\"return\",false);case 16:case\"end\":return _context.stop();}}},_callee,null,[[0,12]]);}));return _checkAccessRights.apply(this,arguments);}export function login(_x,_x2,_x3){return _login.apply(this,arguments);}function _login(){_login=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e,username,password){var respone;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.post(\"\".concat(baseUrl,\"authentication/token/\"),{username:username,password:password});case 2:respone=_context2.sent;if('token'in respone.data){_context2.next=8;break;}console.log(respone.data);return _context2.abrupt(\"return\",false);case 8:localStorage.setItem('token',respone.data.token);localStorage.setItem('username',username);return _context2.abrupt(\"return\",true);case 11:case\"end\":return _context2.stop();}}},_callee2);}));return _login.apply(this,arguments);}export function get(_x4){return _get.apply(this,arguments);}function _get(){_get=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(endpoint){var token,response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;token=localStorage.getItem('token');_context3.next=4;return axios.get(\"\".concat(baseUrl).concat(endpoint),{headers:{'Authorization':\"Token \".concat(token)}});case 4:response=_context3.sent;if(!(response.status===200)){_context3.next=9;break;}return _context3.abrupt(\"return\",response.data);case 9:return _context3.abrupt(\"return\",false);case 10:_context3.next=16;break;case 12:_context3.prev=12;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);return _context3.abrupt(\"return\",false);case 16:case\"end\":return _context3.stop();}}},_callee3,null,[[0,12]]);}));return _get.apply(this,arguments);}export function post(_x5,_x6){return _post.apply(this,arguments);}function _post(){_post=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(endpoint,data){var token,response;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;token=localStorage.getItem('token');_context4.next=4;return axios.post(\"\".concat(baseUrl).concat(endpoint),data,{headers:{'Authorization':\"Token \".concat(token)}});case 4:response=_context4.sent;return _context4.abrupt(\"return\",response.status===200?response.data:false);case 8:_context4.prev=8;_context4.t0=_context4[\"catch\"](0);console.log(_context4.t0);return _context4.abrupt(\"return\",false);case 12:case\"end\":return _context4.stop();}}},_callee4,null,[[0,8]]);}));return _post.apply(this,arguments);}export function patch(_x7,_x8){return _patch.apply(this,arguments);}function _patch(){_patch=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(endpoint,data){var token,response;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;token=localStorage.getItem('token');_context5.next=4;return axios.patch(\"\".concat(baseUrl).concat(endpoint),data,{headers:{'Authorization':\"Token \".concat(token)}});case 4:response=_context5.sent;return _context5.abrupt(\"return\",response.status===200?response.data:false);case 8:_context5.prev=8;_context5.t0=_context5[\"catch\"](0);console.log(_context5.t0);return _context5.abrupt(\"return\",false);case 12:case\"end\":return _context5.stop();}}},_callee5,null,[[0,8]]);}));return _patch.apply(this,arguments);}export function dlete(_x9){return _dlete.apply(this,arguments);}function _dlete(){_dlete=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(endpoint){var token,response;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;token=localStorage.getItem('token');_context6.next=4;return axios.delete(\"\".concat(baseUrl).concat(endpoint),{headers:{'Authorization':\"Token \".concat(token)}});case 4:response=_context6.sent;return _context6.abrupt(\"return\",response.status===200?response.data:false);case 8:_context6.prev=8;_context6.t0=_context6[\"catch\"](0);console.log(_context6.t0);return _context6.abrupt(\"return\",false);case 12:case\"end\":return _context6.stop();}}},_callee6,null,[[0,8]]);}));return _dlete.apply(this,arguments);}","map":{"version":3,"sources":["C:/Users/emreesendir/Documents/projects/WMS development/wms-frontend/src/global/Services.js"],"names":["axios","baseUrl","window","location","origin","toString","checkAccessRights","token","localStorage","getItem","get","headers","response","status","data","console","log","login","e","username","password","post","respone","setItem","endpoint","patch","dlete","delete"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\n\r\nconst baseUrl = `${window.location.origin.toString()}/api/`;\r\n\r\nexport async function checkAccessRights() {\r\n    try{\r\n        const token = localStorage.getItem('token');\r\n        let response = await axios.get(`${baseUrl}authentication/accessrights/`, {headers: {'Authorization': `Token ${token}`}})\r\n        if(response.status === 200) {\r\n            return response.data\r\n        }else{\r\n            return false\r\n        }\r\n    }\r\n    catch(err) {\r\n        console.log(err);\r\n        return false\r\n    }\r\n}\r\n\r\nexport async function login(e, username, password) {\r\n    let respone = await axios.post(`${baseUrl}authentication/token/`, { username: username, password: password })\r\n    if(!('token' in respone.data)){\r\n        console.log(respone.data);\r\n        return false;\r\n    }else{\r\n        localStorage.setItem('token', respone.data.token);\r\n        localStorage.setItem('username', username);\r\n        return true;\r\n    }\r\n}\r\n\r\nexport async function get(endpoint) {\r\n    try{\r\n        const token = localStorage.getItem('token');\r\n        let response = await axios.get(`${baseUrl}${endpoint}`, {headers: {'Authorization': `Token ${token}`}})\r\n        if(response.status === 200) {\r\n            return response.data\r\n        }else{\r\n            return false\r\n        }\r\n    }\r\n    catch(err) {\r\n        console.log(err);\r\n        return false\r\n    }\r\n}\r\n\r\nexport async function post(endpoint, data) {\r\n    try{\r\n        const token = localStorage.getItem('token');\r\n        let response = await axios.post(`${baseUrl}${endpoint}`, data, {headers: {'Authorization': `Token ${token}`}})\r\n        return response.status === 200 ? response.data : false;\r\n    }\r\n    catch(err) {\r\n        console.log(err);\r\n        return false\r\n    }\r\n}\r\n\r\nexport async function patch(endpoint, data) {\r\n    try{\r\n        const token = localStorage.getItem('token');\r\n        let response = await axios.patch(`${baseUrl}${endpoint}`, data, {headers: {'Authorization': `Token ${token}`}})\r\n        return response.status === 200 ? response.data : false;\r\n    }\r\n    catch(err) {\r\n        console.log(err);\r\n        return false\r\n    } \r\n}\r\n\r\nexport async function dlete(endpoint) {\r\n    try{\r\n        const token = localStorage.getItem('token');\r\n        let response = await axios.delete(`${baseUrl}${endpoint}`, {headers: {'Authorization': `Token ${token}`}})\r\n        return response.status === 200 ? response.data : false;\r\n    }\r\n    catch(err) {\r\n        console.log(err);\r\n        return false\r\n    } \r\n}"]},"metadata":{},"sourceType":"module"}