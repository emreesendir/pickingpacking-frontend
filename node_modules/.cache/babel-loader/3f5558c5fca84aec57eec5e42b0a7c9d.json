{"ast":null,"code":"import axios from 'axios';\nimport Login from './auth/Login';\nconst {\n  REACT_APP_API_BASE_URL\n} = process.env;\nexport function checkAccessRights() {\n  try {\n    let accessRights = [];\n    const token = localStorage.getItem('token');\n    axios.get(`${REACT_APP_API_BASE_URL}authentication/accessrights/`, {\n      Authorization: `Token ${token}`\n    }).then(res => accessRights = res.data);\n    return accessRights;\n  } catch {\n    return false;\n  }\n}\nexport function login(e, username, password) {\n  console.log('login func', username, password);\n  e.preventDefault();\n  axios.post(`${REACT_APP_API_BASE_URL}authentication/token/`, {\n    username: username,\n    password: password\n  }).then(res => {\n    localStorage.setItem('token', res.data.token);\n    localStorage.setItem('username', username);\n  });\n  const pass = document.getElementById('password');\n  const usr = document.getElementById('username');\n  pass.value = '';\n  usr.value = '';\n}\nexport function logout() {}","map":{"version":3,"sources":["C:/Users/emreesendir/Documents/projects/wms-frontend/src/Services.js"],"names":["axios","Login","REACT_APP_API_BASE_URL","process","env","checkAccessRights","accessRights","token","localStorage","getItem","get","Authorization","then","res","data","login","e","username","password","console","log","preventDefault","post","setItem","pass","document","getElementById","usr","value","logout"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,cAAlB;AAEA,MAAM;AAACC,EAAAA;AAAD,IAA2BC,OAAO,CAACC,GAAzC;AAEA,OAAO,SAASC,iBAAT,GAA6B;AAChC,MAAG;AACC,QAAIC,YAAY,GAAG,EAAnB;AACA,UAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACAT,IAAAA,KAAK,CAACU,GAAN,CAAW,GAAER,sBAAuB,8BAApC,EAAmE;AAACS,MAAAA,aAAa,EAAG,SAAQJ,KAAM;AAA/B,KAAnE,EACKK,IADL,CACUC,GAAG,IAAIP,YAAY,GAAGO,GAAG,CAACC,IADpC;AAEA,WAAOR,YAAP;AACH,GAND,CAOA,MAAK;AACD,WAAO,KAAP;AACH;AACJ;AAED,OAAO,SAASS,KAAT,CAAeC,CAAf,EAAkBC,QAAlB,EAA4BC,QAA5B,EAAsC;AACzCC,EAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BH,QAA1B,EAAoCC,QAApC;AACAF,EAAAA,CAAC,CAACK,cAAF;AACArB,EAAAA,KAAK,CAACsB,IAAN,CAAY,GAAEpB,sBAAuB,uBAArC,EAA6D;AAAEe,IAAAA,QAAQ,EAAEA,QAAZ;AAAsBC,IAAAA,QAAQ,EAAEA;AAAhC,GAA7D,EACKN,IADL,CACUC,GAAG,IAAI;AAACL,IAAAA,YAAY,CAACe,OAAb,CAAqB,OAArB,EAA8BV,GAAG,CAACC,IAAJ,CAASP,KAAvC;AAA+CC,IAAAA,YAAY,CAACe,OAAb,CAAqB,UAArB,EAAiCN,QAAjC;AAA2C,GAD5G;AAEA,QAAMO,IAAI,GAAGC,QAAQ,CAACC,cAAT,CAAwB,UAAxB,CAAb;AACA,QAAMC,GAAG,GAAGF,QAAQ,CAACC,cAAT,CAAwB,UAAxB,CAAZ;AACAF,EAAAA,IAAI,CAACI,KAAL,GAAa,EAAb;AACAD,EAAAA,GAAG,CAACC,KAAJ,GAAY,EAAZ;AACH;AAED,OAAO,SAASC,MAAT,GAAkB,CAExB","sourcesContent":["import axios from 'axios'\r\nimport Login from './auth/Login';\r\n\r\nconst {REACT_APP_API_BASE_URL} = process.env;\r\n\r\nexport function checkAccessRights() {\r\n    try{\r\n        let accessRights = [];\r\n        const token = localStorage.getItem('token');\r\n        axios.get(`${REACT_APP_API_BASE_URL}authentication/accessrights/`, {Authorization: `Token ${token}`})\r\n            .then(res => accessRights = res.data);\r\n        return accessRights\r\n    }\r\n    catch{\r\n        return false\r\n    }\r\n}\r\n\r\nexport function login(e, username, password) {\r\n    console.log('login func', username, password)\r\n    e.preventDefault();\r\n    axios.post(`${REACT_APP_API_BASE_URL}authentication/token/`, { username: username, password: password })\r\n        .then(res => {localStorage.setItem('token', res.data.token); localStorage.setItem('username', username)});\r\n    const pass = document.getElementById('password');\r\n    const usr = document.getElementById('username');\r\n    pass.value = '';\r\n    usr.value = '';\r\n}\r\n\r\nexport function logout() {\r\n\r\n}"]},"metadata":{},"sourceType":"module"}