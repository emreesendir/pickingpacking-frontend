{"ast":null,"code":"import axios from 'axios';\nconst {\n  REACT_APP_API_BASE_URL\n} = process.env;\nexport function checkAccessRights() {\n  try {\n    let accessRights = [];\n    const token = localStorage.getItem('token');\n    axios.get(`${REACT_APP_API_BASE_URL}authentication/accessrights/`, {\n      Authorization: `Token ${token}`\n    }).then(res => accessRights = res.data);\n    return accessRights;\n  } catch {\n    return false;\n  }\n}\nexport function login(e, username, password) {\n  axios.post(`${REACT_APP_API_BASE_URL}authentication/token/`, {\n    username: username,\n    password: password\n  }).then(res => {\n    if ('Error' in res.data) {\n      return false;\n    } else {\n      localStorage.setItem('token', res.data.token);\n      localStorage.setItem('username', username);\n      return true;\n    }\n  }).catch(err => {\n    console.log(err);\n    return false;\n  });\n}\nexport function logout() {}\nexport function wait(ms) {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}","map":{"version":3,"sources":["C:/Users/emreesendir/Documents/projects/wms-frontend/src/global/Services.js"],"names":["axios","REACT_APP_API_BASE_URL","process","env","checkAccessRights","accessRights","token","localStorage","getItem","get","Authorization","then","res","data","login","e","username","password","post","setItem","catch","err","console","log","logout","wait","ms","Promise","resolve","setTimeout"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAM;AAACC,EAAAA;AAAD,IAA2BC,OAAO,CAACC,GAAzC;AAEA,OAAO,SAASC,iBAAT,GAA6B;AAChC,MAAG;AACC,QAAIC,YAAY,GAAG,EAAnB;AACA,UAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACAR,IAAAA,KAAK,CAACS,GAAN,CAAW,GAAER,sBAAuB,8BAApC,EAAmE;AAACS,MAAAA,aAAa,EAAG,SAAQJ,KAAM;AAA/B,KAAnE,EACKK,IADL,CACUC,GAAG,IAAIP,YAAY,GAAGO,GAAG,CAACC,IADpC;AAEA,WAAOR,YAAP;AACH,GAND,CAOA,MAAK;AACD,WAAO,KAAP;AACH;AACJ;AAED,OAAO,SAASS,KAAT,CAAeC,CAAf,EAAkBC,QAAlB,EAA4BC,QAA5B,EAAsC;AACzCjB,EAAAA,KAAK,CAACkB,IAAN,CAAY,GAAEjB,sBAAuB,uBAArC,EAA6D;AAAEe,IAAAA,QAAQ,EAAEA,QAAZ;AAAsBC,IAAAA,QAAQ,EAAEA;AAAhC,GAA7D,EACKN,IADL,CACUC,GAAG,IAAI;AACT,QAAG,WAAWA,GAAG,CAACC,IAAlB,EAAuB;AACnB,aAAO,KAAP;AACH,KAFD,MAEK;AACDN,MAAAA,YAAY,CAACY,OAAb,CAAqB,OAArB,EAA8BP,GAAG,CAACC,IAAJ,CAASP,KAAvC;AACAC,MAAAA,YAAY,CAACY,OAAb,CAAqB,UAArB,EAAiCH,QAAjC;AACA,aAAO,IAAP;AACH;AACJ,GATL,EAUKI,KAVL,CAUYC,GAAD,IAAS;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,WAAO,KAAP;AACH,GAbL;AAcH;AAED,OAAO,SAASG,MAAT,GAAkB,CAExB;AAED,OAAO,SAASC,IAAT,CAAcC,EAAd,EAAiB;AACpB,SAAO,IAAIC,OAAJ,CAAYC,OAAO,IAAIC,UAAU,CAACD,OAAD,EAAUF,EAAV,CAAjC,CAAP;AACH","sourcesContent":["import axios from 'axios'\r\n\r\nconst {REACT_APP_API_BASE_URL} = process.env;\r\n\r\nexport function checkAccessRights() {\r\n    try{\r\n        let accessRights = [];\r\n        const token = localStorage.getItem('token');\r\n        axios.get(`${REACT_APP_API_BASE_URL}authentication/accessrights/`, {Authorization: `Token ${token}`})\r\n            .then(res => accessRights = res.data);\r\n        return accessRights\r\n    }\r\n    catch{\r\n        return false\r\n    }\r\n}\r\n\r\nexport function login(e, username, password) {\r\n    axios.post(`${REACT_APP_API_BASE_URL}authentication/token/`, { username: username, password: password })\r\n        .then(res => {\r\n            if('Error' in res.data){\r\n                return false\r\n            }else{\r\n                localStorage.setItem('token', res.data.token);\r\n                localStorage.setItem('username', username);\r\n                return true;\r\n            }\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n            return false;\r\n        });\r\n}\r\n\r\nexport function logout() {\r\n\r\n}\r\n\r\nexport function wait(ms){\r\n    return new Promise(resolve => setTimeout(resolve, ms))\r\n}"]},"metadata":{},"sourceType":"module"}