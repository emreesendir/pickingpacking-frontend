{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Desktop\\\\PickingPacking\\\\PickingPacking\\\\PickingPacking-Frontend\\\\src\\\\modules\\\\picking\\\\Picking.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, useRef } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { checkAccessRights, get } from '../../global/Services';\nimport Header from './Header';\nimport NewPicking from './content/NewPicking';\nimport Loading from '../../global/Loading';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Picking = () => {\n  _s();\n\n  const [accessrights, setAccessrights] = useState([]);\n  const history = useRef();\n  history.current = useHistory();\n  useEffect(() => {\n    checkAccessRights().then(access => {\n      if (access) {\n        if (access.includes('Modules | Picking')) {\n          setAccessrights(access);\n        } else {\n          history.current.push('/menu');\n        }\n      } else {\n        history.current.push('/login');\n      }\n    });\n  }, []);\n  const [pickcart, setPickcart] = useState(false);\n  const [loading, setLoading] = useState([false, '', '']);\n  let pickcartbarcodeInput;\n\n  const clickPickcartbarcode = e => {\n    e.preventDefault();\n    setLoading([true, 'Retrieving data from server...', 'spinner']);\n    get(`picking/pickcart/${pickcartbarcodeInput}/`).then(data => {\n      if (data) {\n        switch (data.status) {\n          case 'AVAILABLE':\n            break;\n\n          case 'PICKING IN PROGRESS':\n            //ask for active picking session\n            //redirect to the picking session\n            break;\n\n          default:\n            setLoading([true, `Invalid Status: ${data.status}`, 'error']);\n            setTimeout(() => {\n              setLoading([false, '', '']);\n              pickcartbarcodeInput = '';\n              document.getElementById('pickcartbarcode').value = '';\n              setPickcart(false);\n            }, 2000);\n        }\n      } else {\n        setLoading([true, '! SERVER ERROR !', 'error']);\n        setTimeout(() => {\n          setLoading([false, '', '']);\n          pickcartbarcodeInput = '';\n          document.getElementById('pickcartbarcode').value = '';\n          setPickcart(false);\n        }, 1000);\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [loading[0] && /*#__PURE__*/_jsxDEV(Loading, {\n      message: loading[1],\n      symbol: loading[2]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 28\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), !pickcart && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            margin: '0.2em'\n          },\n          htmlFor: \"pickcartbarcode\",\n          children: \"SCAN or Enter PickCart Barcode\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 118\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          style: {\n            margin: '0.2em'\n          },\n          type: \"text\",\n          name: \"pickcartbarcode\",\n          id: \"pickcartbarcode\",\n          onChange: e => {\n            pickcartbarcodeInput = e.target.value;\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 168\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            margin: '0.2em'\n          },\n          onClick: clickPickcartbarcode,\n          children: \"Continue...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 31\n      }, this), pickcart && {}]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Picking, \"BTWaM5jowIE2ZQ6CfcV03XKDCy4=\", false, function () {\n  return [useHistory];\n});\n\n_c = Picking;\nexport default Picking;\n\nvar _c;\n\n$RefreshReg$(_c, \"Picking\");","map":{"version":3,"sources":["C:/Users/USER/Desktop/PickingPacking/PickingPacking/PickingPacking-Frontend/src/modules/picking/Picking.js"],"names":["useState","useEffect","useRef","Link","useHistory","styled","checkAccessRights","get","Header","NewPicking","Loading","Picking","accessrights","setAccessrights","history","current","then","access","includes","push","pickcart","setPickcart","loading","setLoading","pickcartbarcodeInput","clickPickcartbarcode","e","preventDefault","data","status","setTimeout","document","getElementById","value","margin","target"],"mappings":"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","sourcesContent":["import { useState, useEffect, useRef } from 'react'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport { checkAccessRights, get } from '../../global/Services'\r\nimport Header from './Header'\r\nimport NewPicking from './content/NewPicking'\r\nimport Loading from '../../global/Loading'\r\n\r\nconst Picking = () => {\r\n    const [accessrights, setAccessrights] = useState([]);\r\n    const history = useRef();\r\n    history.current = useHistory();\r\n\r\n    useEffect(() => {\r\n        checkAccessRights().then(access => {\r\n            if(access) {\r\n                if(access.includes('Modules | Picking')){\r\n                    setAccessrights(access);\r\n                }else{\r\n                    history.current.push('/menu');\r\n                }\r\n            }else{\r\n                history.current.push('/login');\r\n            }\r\n        })}, [])\r\n\r\n    const [pickcart, setPickcart] = useState(false)\r\n    const [loading, setLoading] = useState([false, '', ''])\r\n\r\n    let pickcartbarcodeInput;\r\n    const clickPickcartbarcode = (e) => {\r\n        e.preventDefault();\r\n        setLoading([true, 'Retrieving data from server...', 'spinner']);\r\n        get(`picking/pickcart/${pickcartbarcodeInput}/`).then( data => {\r\n            if(data){\r\n                switch(data.status) {\r\n                    case 'AVAILABLE':\r\n                        \r\n                        break;\r\n                    case 'PICKING IN PROGRESS':\r\n                        //ask for active picking session\r\n                        //redirect to the picking session\r\n                        break;\r\n                    default:\r\n                        setLoading([true, `Invalid Status: ${data.status}`, 'error']);\r\n                        setTimeout(() => {\r\n                            setLoading([false, '', '']);\r\n                            pickcartbarcodeInput = '';\r\n                            document.getElementById('pickcartbarcode').value = '';\r\n                            setPickcart(false);\r\n                        }, 2000)\r\n                  }\r\n            }else{\r\n                setLoading([true, '! SERVER ERROR !', 'error']);\r\n                setTimeout(() => {\r\n                    setLoading([false, '', '']);\r\n                    pickcartbarcodeInput = '';\r\n                    document.getElementById('pickcartbarcode').value = '';\r\n                    setPickcart(false);\r\n                }, 1000)\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {loading[0] && <Loading message={loading[1]} symbol={loading[2]}/>}\r\n            <div>\r\n                <Header/>\r\n                {!pickcart && <div>\r\n                    <label style={{margin: '0.2em'}} htmlFor='pickcartbarcode'>SCAN or Enter PickCart Barcode</label><br/>\r\n                    <input style={{margin: '0.2em'}}  type='text' name='pickcartbarcode' id='pickcartbarcode' onChange={e => {pickcartbarcodeInput = e.target.value}}/><br/>\r\n                    <button style={{margin: '0.2em'}}  onClick={clickPickcartbarcode}>Continue...</button>\r\n                </div>}\r\n                {pickcart && {}}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Picking"]},"metadata":{},"sourceType":"module"}