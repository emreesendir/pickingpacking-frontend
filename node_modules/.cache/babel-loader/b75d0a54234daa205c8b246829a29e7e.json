{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/emreesendir/Documents/projects/wms-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/emreesendir/Documents/projects/wms-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';var REACT_APP_API_BASE_URL=process.env.REACT_APP_API_BASE_URL;export function checkAccessRights(){return _checkAccessRights.apply(this,arguments);}function _checkAccessRights(){_checkAccessRights=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var token,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;token=localStorage.getItem('token');_context.next=4;return axios.get(\"\".concat(REACT_APP_API_BASE_URL,\"authentication/accessrights/\"),{headers:{'Authorization':\"Token \".concat(token)}});case 4:response=_context.sent;if(!(response.status===200)){_context.next=9;break;}return _context.abrupt(\"return\",response.data);case 9:return _context.abrupt(\"return\",false);case 10:_context.next=16;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);console.log(_context.t0);return _context.abrupt(\"return\",false);case 16:case\"end\":return _context.stop();}}},_callee,null,[[0,12]]);}));return _checkAccessRights.apply(this,arguments);}export function login(_x,_x2,_x3){return _login.apply(this,arguments);}function _login(){_login=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e,username,password){var respone;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.post(\"\".concat(REACT_APP_API_BASE_URL,\"authentication/token/\"),{username:username,password:password});case 2:respone=_context2.sent;if('token'in respone.data){_context2.next=8;break;}console.log(respone.data);return _context2.abrupt(\"return\",false);case 8:localStorage.setItem('token',respone.data.token);localStorage.setItem('username',username);return _context2.abrupt(\"return\",true);case 11:case\"end\":return _context2.stop();}}},_callee2);}));return _login.apply(this,arguments);}export function getSizing(){return _getSizing.apply(this,arguments);}function _getSizing(){_getSizing=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var token,response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;token=localStorage.getItem('token');_context3.next=4;return axios.get(\"\".concat(REACT_APP_API_BASE_URL,\"management/sizing/\"),{headers:{'Authorization':\"Token \".concat(token)}});case 4:response=_context3.sent;if(!(response.status===200)){_context3.next=9;break;}return _context3.abrupt(\"return\",response.data);case 9:return _context3.abrupt(\"return\",false);case 10:_context3.next=16;break;case 12:_context3.prev=12;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);return _context3.abrupt(\"return\",false);case 16:case\"end\":return _context3.stop();}}},_callee3,null,[[0,12]]);}));return _getSizing.apply(this,arguments);}export function postSizing(_x4){return _postSizing.apply(this,arguments);}function _postSizing(){_postSizing=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(data){var token,response,errors;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;token=localStorage.getItem('token');_context4.next=4;return axios.post(\"\".concat(REACT_APP_API_BASE_URL,\"management/sizing/\"),data,{headers:{'Authorization':\"Token \".concat(token)}});case 4:response=_context4.sent;if(!(response.status===200)){_context4.next=10;break;}errors=response.data.filter(function(obj){return obj.result!=='OK';});return _context4.abrupt(\"return\",errors);case 10:return _context4.abrupt(\"return\",false);case 11:_context4.next=17;break;case 13:_context4.prev=13;_context4.t0=_context4[\"catch\"](0);console.log(_context4.t0);return _context4.abrupt(\"return\",false);case 17:case\"end\":return _context4.stop();}}},_callee4,null,[[0,13]]);}));return _postSizing.apply(this,arguments);}","map":{"version":3,"sources":["C:/Users/emreesendir/Documents/projects/wms-frontend/src/global/Services.js"],"names":["axios","REACT_APP_API_BASE_URL","process","env","checkAccessRights","token","localStorage","getItem","get","headers","response","status","data","console","log","login","e","username","password","post","respone","setItem","getSizing","postSizing","errors","filter","obj","result"],"mappings":"mVAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAOC,CAAAA,sBAAP,CAAiCC,OAAO,CAACC,GAAzC,CAAOF,sBAAP,CAEA,eAAsBG,CAAAA,iBAAtB,oD,yGAAO,sKAEOC,KAFP,CAEeC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAFf,uBAGsBP,CAAAA,KAAK,CAACQ,GAAN,WAAaP,sBAAb,iCAAmE,CAACQ,OAAO,CAAE,CAAC,gCAA0BJ,KAA1B,CAAD,CAAV,CAAnE,CAHtB,QAGKK,QAHL,oBAIIA,QAAQ,CAACC,MAAT,GAAoB,GAJxB,0DAKYD,QAAQ,CAACE,IALrB,yCAOY,KAPZ,2FAWCC,OAAO,CAACC,GAAR,cAXD,gCAYQ,KAZR,uE,oDAgBP,eAAsBC,CAAAA,KAAtB,kD,iFAAO,kBAAqBC,CAArB,CAAwBC,QAAxB,CAAkCC,QAAlC,yJACiBlB,CAAAA,KAAK,CAACmB,IAAN,WAAclB,sBAAd,0BAA6D,CAAEgB,QAAQ,CAAEA,QAAZ,CAAsBC,QAAQ,CAAEA,QAAhC,CAA7D,CADjB,QACCE,OADD,mBAEE,SAAWA,CAAAA,OAAO,CAACR,IAFrB,0BAGCC,OAAO,CAACC,GAAR,CAAYM,OAAO,CAACR,IAApB,EAHD,iCAIQ,KAJR,SAMCN,YAAY,CAACe,OAAb,CAAqB,OAArB,CAA8BD,OAAO,CAACR,IAAR,CAAaP,KAA3C,EACAC,YAAY,CAACe,OAAb,CAAqB,UAArB,CAAiCJ,QAAjC,EAPD,iCAQQ,IARR,2D,wCAYP,eAAsBK,CAAAA,SAAtB,4C,yFAAO,4KAEOjB,KAFP,CAEeC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAFf,wBAGsBP,CAAAA,KAAK,CAACQ,GAAN,WAAaP,sBAAb,uBAAyD,CAACQ,OAAO,CAAE,CAAC,gCAA0BJ,KAA1B,CAAD,CAAV,CAAzD,CAHtB,QAGKK,QAHL,qBAIIA,QAAQ,CAACC,MAAT,GAAoB,GAJxB,4DAKYD,QAAQ,CAACE,IALrB,0CAOY,KAPZ,+FAWCC,OAAO,CAACC,GAAR,eAXD,iCAYQ,KAZR,yE,4CAgBP,eAAsBS,CAAAA,UAAtB,gD,2FAAO,kBAA0BX,IAA1B,iKAEOP,KAFP,CAEeC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAFf,wBAGsBP,CAAAA,KAAK,CAACmB,IAAN,WAAclB,sBAAd,uBAA0DW,IAA1D,CAAgE,CAACH,OAAO,CAAE,CAAC,gCAA0BJ,KAA1B,CAAD,CAAV,CAAhE,CAHtB,QAGKK,QAHL,qBAIIA,QAAQ,CAACC,MAAT,GAAoB,GAJxB,4BAKWa,MALX,CAKoBd,QAAQ,CAACE,IAAT,CAAca,MAAd,CAAqB,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,MAAJ,GAAe,IAAnB,EAAxB,CALpB,kCAMYH,MANZ,2CAQY,KARZ,+FAYCX,OAAO,CAACC,GAAR,eAZD,iCAaQ,KAbR,yE","sourcesContent":["import axios from 'axios'\r\n\r\nconst {REACT_APP_API_BASE_URL} = process.env;\r\n\r\nexport async function checkAccessRights() {\r\n    try{\r\n        const token = localStorage.getItem('token');\r\n        let response = await axios.get(`${REACT_APP_API_BASE_URL}authentication/accessrights/`, {headers: {'Authorization': `Token ${token}`}})\r\n        if(response.status === 200) {\r\n            return response.data\r\n        }else{\r\n            return false\r\n        }\r\n    }\r\n    catch(err) {\r\n        console.log(err);\r\n        return false\r\n    }\r\n}\r\n\r\nexport async function login(e, username, password) {\r\n    let respone = await axios.post(`${REACT_APP_API_BASE_URL}authentication/token/`, { username: username, password: password })\r\n    if(!('token' in respone.data)){\r\n        console.log(respone.data);\r\n        return false;\r\n    }else{\r\n        localStorage.setItem('token', respone.data.token);\r\n        localStorage.setItem('username', username);\r\n        return true;\r\n    }\r\n}\r\n\r\nexport async function getSizing() {\r\n    try{\r\n        const token = localStorage.getItem('token');\r\n        let response = await axios.get(`${REACT_APP_API_BASE_URL}management/sizing/`, {headers: {'Authorization': `Token ${token}`}})\r\n        if(response.status === 200) {\r\n            return response.data\r\n        }else{\r\n            return false\r\n        }\r\n    }\r\n    catch(err) {\r\n        console.log(err);\r\n        return false\r\n    }\r\n}\r\n\r\nexport async function postSizing(data) {\r\n    try{\r\n        const token = localStorage.getItem('token');\r\n        let response = await axios.post(`${REACT_APP_API_BASE_URL}management/sizing/`, data, {headers: {'Authorization': `Token ${token}`}})\r\n        if(response.status === 200) {\r\n            const errors = response.data.filter(obj => obj.result !== 'OK');\r\n            return errors\r\n        }else{\r\n            return false\r\n        }\r\n    }\r\n    catch(err) {\r\n        console.log(err);\r\n        return false\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}