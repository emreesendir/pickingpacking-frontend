{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\emreesendir\\\\Documents\\\\projects\\\\WMS development\\\\wms-frontend\\\\src\\\\modules\\\\picking\\\\content\\\\NewPicking.js\",\n    _s = $RefreshSig$();\n\nimport styled from 'styled-components';\nimport { useState, useEffect } from 'react';\nimport Loading from '../../../global/Loading';\nimport Table from '../../../global/Table';\nimport { get, post } from '../../../global/Services'; //#region style\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Outerdiv = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    height: 95%;\n`;\n_c = Outerdiv;\nconst Div = styled.div`\n    width: 90%;\n    height: 95%;\n    overflow: auto;\n    margin-top: 20px;\n    display: flex;\n    flex-direction: column;\n    justify-content: top;\n    border-style: solid;\n\n    @media screen and (max-width: 700px){\n        font-size: 70%;\n    }\n`;\n_c2 = Div;\nconst Select = styled.select`\n    width: 90%;\n    height: 2em;\n`;\n_c3 = Select;\nconst BottomDiv = styled.div`\n    width: 100%;\n    height: 6%;\n    display: flex;\n    margin-top: auto;\n    border-top: solid 0.1em;\n`;\n_c4 = BottomDiv;\nconst Button = styled.button`\n    width: 6em;\n    margin: 0.5em 0.5em 0.5em auto;\n\n    @media screen and (max-width: 700px){\n        font-size: 70%;\n    }\n`; //#endregion\n//#region column setup\n\n_c5 = Button;\nlet changes = {};\nconst COLUMNS = [{\n  Header: 'Remote Id',\n  Footer: 'Remote Id',\n  accessor: 'remoteId'\n}, {\n  Header: 'Order',\n  Footer: 'Order',\n  accessor: data => {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: data.productLines.map(line => /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          textAlign: 'left',\n          marginLeft: '1em'\n        },\n        children: [\"\\u2022 \", line.quantity, \" piece(s) \", line.name, \". Location: \", line.location]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 25\n      }, this))\n    }, void 0, false);\n  }\n}, {\n  Header: 'Status',\n  Footer: 'Status',\n  accessor: 'status'\n}, {\n  Header: 'Commands',\n  Footer: 'Commands',\n  accessor: data => {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: data.commands.split('.').map(command => /*#__PURE__*/_jsxDEV(\"p\", {\n        children: command\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 25\n      }, this))\n    }, void 0, false);\n  }\n}, {\n  Header: 'Size',\n  Footer: 'Size',\n  accessor: data => {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Select, {\n        id: data.id,\n        name: \"cars\",\n        onChange: e => changes[e.target.id] = e.target.value,\n        defaultValue: \"\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"small\",\n          children: \"Small\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"medium\",\n          children: \"Medium\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"large\",\n          children: \"Large\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }, this)\n    }, void 0, false);\n  }\n}]; //#endregion\n\nconst NewPicking = () => {\n  _s();\n\n  let pickcartnumberInput;\n  const [pickcartnumber, setPickcartnumber] = useState(false);\n\n  const clickPickcartnumber = e => {\n    e.preventDefault(); //api validate pickcart number\n  }; // Table\n\n\n  const [DATA, setDATA] = useState([]);\n\n  const refreshTable = () => {\n    get('picking/listpicking/').then(data => {\n      changes = {};\n      setDATA([]);\n      setDATA(data);\n    });\n  };\n\n  useEffect(refreshTable, []); // Post sizes\n\n  const [loading, setLoading] = useState([false, '', '']);\n\n  const submit = () => {\n    setLoading([true, 'Sending data to server...', 'spinner']);\n    const filtered = {};\n\n    for (const id in changes) {\n      if (changes[id] !== '') {\n        filtered[id] = changes[id];\n      }\n    }\n\n    post('management/sizing/', filtered).then(res => {\n      if (res) {\n        const err = res.filter(obj => obj.result !== 'OK');\n\n        if (err.length > 0) {\n          setLoading([true, `Error occured for some orders: ${err => JSON.stringify(err)}`, 'error']);\n          setTimeout(() => {\n            setLoading([false, '', '']);\n            refreshTable();\n          }, 2000);\n        } else {\n          setLoading([true, 'Successfull.', 'done']);\n          setTimeout(() => {\n            setLoading([false, '', '']);\n            refreshTable();\n          }, 1000);\n        }\n      } else {\n        setLoading([true, '! SERVER ERROR !', 'error']);\n        setTimeout(() => {\n          setLoading([false, '', '']);\n          refreshTable();\n        }, 1000);\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [!pickcartnumber && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"pickcartnumber\",\n        children: \"SCAN or Enter PickCart Number\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 86\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"pickcartnumber\",\n        id: \"pickcartnumber\",\n        onChange: e => {\n          pickcartnumberInput = e.target.value;\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 134\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: clickPickcartnumber,\n        children: \"Continue...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 33\n    }, this), pickcartnumber && /*#__PURE__*/_jsxDEV(Outerdiv, {\n      children: [loading[0] && /*#__PURE__*/_jsxDEV(Loading, {\n        message: loading[1],\n        symbol: loading[2]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 32\n      }, this), /*#__PURE__*/_jsxDEV(Div, {\n        children: [/*#__PURE__*/_jsxDEV(Table, {\n          data: DATA,\n          columns: COLUMNS\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(BottomDiv, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            onClick: submit,\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 32\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 32\n    }, this)]\n  }, void 0, true);\n};\n\n_s(NewPicking, \"+HUT1NfGJawTg8YP9QcNfseKxMs=\");\n\n_c6 = NewPicking;\nexport default NewPicking;\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"Outerdiv\");\n$RefreshReg$(_c2, \"Div\");\n$RefreshReg$(_c3, \"Select\");\n$RefreshReg$(_c4, \"BottomDiv\");\n$RefreshReg$(_c5, \"Button\");\n$RefreshReg$(_c6, \"NewPicking\");","map":{"version":3,"sources":["C:/Users/emreesendir/Documents/projects/WMS development/wms-frontend/src/modules/picking/content/NewPicking.js"],"names":["styled","useState","useEffect","Loading","Table","get","post","Outerdiv","div","Div","Select","select","BottomDiv","Button","button","changes","COLUMNS","Header","Footer","accessor","data","productLines","map","line","textAlign","marginLeft","quantity","name","location","commands","split","command","id","e","target","value","NewPicking","pickcartnumberInput","pickcartnumber","setPickcartnumber","clickPickcartnumber","preventDefault","DATA","setDATA","refreshTable","then","loading","setLoading","submit","filtered","res","err","filter","obj","result","length","JSON","stringify","setTimeout"],"mappings":"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","sourcesContent":["import styled from 'styled-components'\r\nimport { useState, useEffect } from 'react'\r\nimport Loading from '../../../global/Loading'\r\nimport Table from '../../../global/Table'\r\nimport { get, post } from '../../../global/Services'\r\n\r\n//#region style\r\nconst Outerdiv = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    height: 95%;\r\n`;\r\n\r\nconst Div = styled.div`\r\n    width: 90%;\r\n    height: 95%;\r\n    overflow: auto;\r\n    margin-top: 20px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: top;\r\n    border-style: solid;\r\n\r\n    @media screen and (max-width: 700px){\r\n        font-size: 70%;\r\n    }\r\n`;\r\n\r\nconst Select = styled.select`\r\n    width: 90%;\r\n    height: 2em;\r\n`;\r\n\r\nconst BottomDiv = styled.div`\r\n    width: 100%;\r\n    height: 6%;\r\n    display: flex;\r\n    margin-top: auto;\r\n    border-top: solid 0.1em;\r\n`;\r\n\r\nconst Button = styled.button`\r\n    width: 6em;\r\n    margin: 0.5em 0.5em 0.5em auto;\r\n\r\n    @media screen and (max-width: 700px){\r\n        font-size: 70%;\r\n    }\r\n`;\r\n\r\n//#endregion\r\n\r\n//#region column setup\r\n\r\nlet changes = {};\r\n\r\nconst COLUMNS = [\r\n    {\r\n        Header: 'Remote Id',\r\n        Footer: 'Remote Id',\r\n        accessor: 'remoteId'\r\n    },\r\n    {\r\n        Header: 'Order',\r\n        Footer: 'Order',\r\n        accessor: data => {\r\n            return (\r\n                <>\r\n                    {data.productLines.map(line => \r\n                        <p style={{textAlign: 'left', marginLeft: '1em'}}>• {line.quantity} piece(s) {line.name}. Location: {line.location}</p>\r\n                    )}\r\n                </>\r\n            )\r\n        }\r\n    },\r\n    {\r\n        Header: 'Status',\r\n        Footer: 'Status',\r\n        accessor: 'status'\r\n    },\r\n    {\r\n        Header: 'Commands',\r\n        Footer: 'Commands',\r\n        accessor: data => {\r\n            return (\r\n                <>\r\n                    {data.commands.split('.').map(command => \r\n                        <p>{command}</p>)}\r\n                </>\r\n            )\r\n        }\r\n    },\r\n    {\r\n        Header: 'Size',\r\n        Footer: 'Size',\r\n        accessor: data => {\r\n            return (\r\n                <>\r\n                    <Select id={data.id} name=\"cars\" onChange={(e) => changes[e.target.id] = e.target.value} defaultValue=''>\r\n                        <option value=\"\"></option>\r\n                        <option value=\"small\">Small</option>\r\n                        <option value=\"medium\">Medium</option>\r\n                        <option value=\"large\">Large</option>\r\n                    </Select>\r\n                </>\r\n            )\r\n        }\r\n    }\r\n]\r\n\r\n//#endregion\r\n\r\nconst NewPicking = () => {\r\n    let pickcartnumberInput;\r\n    const [pickcartnumber, setPickcartnumber] = useState(false)\r\n    const clickPickcartnumber = (e) => {\r\n        e.preventDefault();\r\n        //api validate pickcart number\r\n    }\r\n\r\n\r\n    // Table\r\n    const [DATA, setDATA] = useState([])\r\n\r\n    const refreshTable = () => {\r\n        get('picking/listpicking/').then(data => {\r\n            changes = {};\r\n            setDATA([]);\r\n            setDATA(data)\r\n        })\r\n    }\r\n\r\n    useEffect(refreshTable, [])\r\n\r\n    // Post sizes\r\n    const [loading, setLoading] = useState([false, '', ''])\r\n\r\n    const submit = () => {\r\n        setLoading([true, 'Sending data to server...', 'spinner']);\r\n\r\n        const filtered = {};\r\n        for (const id in changes) {\r\n            if(changes[id] !== ''){\r\n                filtered[id] = changes[id]\r\n            }\r\n        }\r\n\r\n        post('management/sizing/', filtered).then(res => {\r\n            if(res) {\r\n                const err = res.filter(obj => obj.result !== 'OK');\r\n                if(err.length > 0) {\r\n                    setLoading([true, `Error occured for some orders: ${err => JSON.stringify(err)}`, 'error']);\r\n                    setTimeout(() => {\r\n                        setLoading([false, '', '']);\r\n                        refreshTable();\r\n                    }, 2000)\r\n                }else {\r\n                    setLoading([true, 'Successfull.', 'done']);\r\n                    setTimeout(() => {\r\n                        setLoading([false, '', '']);\r\n                        refreshTable(); \r\n                    }, 1000)\r\n                }\r\n            }else{\r\n                setLoading([true, '! SERVER ERROR !', 'error']);\r\n                setTimeout(() => {\r\n                    setLoading([false, '', '']);\r\n                    refreshTable();\r\n                }, 1000)\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {!pickcartnumber && <div>\r\n                <label htmlFor='pickcartnumber'>SCAN or Enter PickCart Number</label><br/>\r\n                <input type='text' name='pickcartnumber' id='pickcartnumber' onChange={e => {pickcartnumberInput = e.target.value}}/><br/>\r\n                <button onClick={clickPickcartnumber}>Continue...</button>\r\n            </div>}\r\n            {pickcartnumber && <Outerdiv>\r\n                {loading[0] && <Loading message={loading[1]} symbol={loading[2]}/>}\r\n                <Div>\r\n                    <Table data={DATA} columns={COLUMNS}/>\r\n                    <BottomDiv><Button onClick={submit}>Submit</Button></BottomDiv>\r\n                </Div>\r\n            </Outerdiv>}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default NewPicking"]},"metadata":{},"sourceType":"module"}